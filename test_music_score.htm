<!DOCTYPE html>
<html>

<head>
    <title>Tests</title>
    <script src="jquery-2.1.4.min.js"></script>
	<script>var Cubee = {MusicScore: {}};</script>
	<!--
    <script src="js/bin/cubee.min.js"></script>
	-->
	
	<script src="/js/cubee/music/score/vex.js"></script>
	<script src="/js/cubee/music/score/flow.js"></script>
	<script src="/js/cubee/music/score/fraction.js"></script>
	<script src="/js/cubee/music/score/tables.js"></script>
	<script src="/js/cubee/music/score/fonts/vexflow_font.js"></script>
	<script src="/js/cubee/music/score/glyph.js"></script>
	<script src="/js/cubee/music/score/stave.js"></script>
	<script src="/js/cubee/music/score/staveconnector.js"></script>
	<script src="/js/cubee/music/score/MusicScoreTabStave.js"></script>
	<script src="/js/cubee/music/score/tickcontext.js"></script>
	<script src="/js/cubee/music/score/tickable.js"></script>
	<script src="/js/cubee/music/score/note.js"></script>
	<script src="/js/cubee/music/score/notehead.js"></script>
	<script src="/js/cubee/music/score/stem.js"></script>
	<script src="/js/cubee/music/score/stemmablenote.js"></script>
	<script src="/js/cubee/music/score/stavenote.js"></script>
	<script src="/js/cubee/music/score/MusicScoreTabNote.js"></script>
	<script src="/js/cubee/music/score/ghostnote.js"></script>
	<script src="/js/cubee/music/score/clefnote.js"></script>
	<script src="/js/cubee/music/score/timesignote.js"></script>
	<script src="/js/cubee/music/score/beam.js"></script>
	<script src="/js/cubee/music/score/voice.js"></script>
	<script src="/js/cubee/music/score/voicegroup.js"></script>
	<script src="/js/cubee/music/score/modifier.js"></script>
	<script src="/js/cubee/music/score/modifiercontext.js"></script>
	<script src="/js/cubee/music/score/accidental.js"></script>
	<script src="/js/cubee/music/score/dot.js"></script>
	<script src="/js/cubee/music/score/MusicScoreFormatter.js"></script>
	<script src="/js/cubee/music/score/stavetie.js"></script>
	<script src="/js/cubee/music/score/tabtie.js"></script>
	<script src="/js/cubee/music/score/tabslide.js"></script>
	<script src="/js/cubee/music/score/bend.js"></script>
	<script src="/js/cubee/music/score/vibrato.js"></script>
	<script src="/js/cubee/music/score/annotation.js"></script>
	<script src="/js/cubee/music/score/articulation.js"></script>
	<script src="/js/cubee/music/score/tuning.js"></script>
	<script src="/js/cubee/music/score/stavemodifier.js"></script>
	<script src="/js/cubee/music/score/keysignature.js"></script>
	<script src="/js/cubee/music/score/timesignature.js"></script>
	<script src="/js/cubee/music/score/clef.js"></script>
	<script src="/js/cubee/music/score/music.js"></script>
	<script src="/js/cubee/music/score/keymanager.js"></script>
	<script src="/js/cubee/music/score/svgcontext.js"></script>
	<script src="/js/cubee/music/score/MusicScoreRenderer.js"></script>
	<script src="/js/cubee/music/score/raphaelcontext.js"></script>
	<script src="/js/cubee/music/score/canvascontext.js"></script>
	<script src="/js/cubee/music/score/stavebarline.js"></script>
	<script src="/js/cubee/music/score/stavehairpin.js"></script>
	<script src="/js/cubee/music/score/stavevolta.js"></script>
	<script src="/js/cubee/music/score/staverepetition.js"></script>
	<script src="/js/cubee/music/score/stavesection.js"></script>
	<script src="/js/cubee/music/score/stavetempo.js"></script>
	<script src="/js/cubee/music/score/stavetext.js"></script>
	<script src="/js/cubee/music/score/barnote.js"></script>
	<script src="/js/cubee/music/score/tremolo.js"></script>
	<script src="/js/cubee/music/score/tuplet.js"></script>
	<script src="/js/cubee/music/score/boundingbox.js"></script>
	<!--
	<script src="/js/cubee/music/score/textnote.js"></script>
	-->
	<script src="/js/cubee/music/score/frethandfinger.js"></script>
	<script src="/js/cubee/music/score/stringnumber.js"></script>
	<script src="/js/cubee/music/score/strokes.js"></script>
	<!--
	<script src="/js/cubee/music/score/curve.js"></script>
	<script src="/js/cubee/music/score/staveline.js"></script>
	<script src="/js/cubee/music/score/crescendo.js"></script>
	-->
	<script src="/js/cubee/music/score/ornament.js"></script>
	<!--
	<script src="/js/cubee/music/score/pedalmarking.js"></script>
	<script src="/js/cubee/music/score/textbracket.js"></script>
	-->
	<script src="/js/cubee/music/score/gracenotegroup.js"></script>
	<script src="/js/cubee/music/score/fonts/vexflow_font.js"></script>

</head>
<body>
    <div id="toto"></div>
    <script>
        $(document).ready(function() {
            // Get the rendering context
            //var canvas = $("canvas")[0];
            //var renderer = new Vex.Flow.Renderer(canvas, Vex.Flow.Renderer.Backends.CANVAS);*/
            var renderer = new Cubee.MusicScore.Renderer('toto');

            var ctx = renderer.getContext();
            ctx.setFont("Arial", 10, "").setBackgroundFillStyle("#eed");

            // Create and draw the tablature stave
            var tabstave = new Cubee.MusicScore.TabStave(10, 0, 300);
            tabstave.addTabGlyph();
            tabstave.setContext(ctx).draw();

            var functionClickOnNote = function(){
                console.log('##clicked on', this);
            };
			
			var functionClickOnNoteToAddOne = function(){
                console.log('##clicked to add on', this);
            };

            // Create some notes
            var notes = [
                new Cubee.MusicScore.TabNote({positions: [{str: 3, fret: 7, iddb: 1, clickCallBack: functionClickOnNote}], duration: "q"})
                , new Cubee.MusicScore.TabNote({positions: [{str: 2, fret: 10, iddb: 2, clickCallBack: functionClickOnNote}, {str: 3, fret: 9, iddb: 3, clickCallBack: functionClickOnNote}], duration: "q"}).addModifier(new Vex.Flow.Bend("Full"), 1)
                , new Cubee.MusicScore.TabNote({positions: [{str: 2, fret: 5}, {str: 1, fret: 6, clickCallBack: functionClickOnNote}], duration: "h"}).addModifier(new Vex.Flow.Vibrato().setHarsh(true).setVibratoWidth(70), 0)
				, new Cubee.MusicScore.TabNote({positions: [{str: 1, fret: 6, clickCallBack: functionClickOnNote}], duration: "q"}).addModifier(new Vex.Flow.Vibrato().setHarsh(true).setVibratoWidth(70), 0)
				, new Cubee.MusicScore.TabNote({positions: [{str: 2, fret: 5}], duration: "h"})
            ];

           Cubee.MusicScore.Formatter.FormatAndDraw(ctx, tabstave, notes);
        });
    </script>
</body>
</html>
